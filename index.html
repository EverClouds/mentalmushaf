<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>المصحف الذهني</title>
    <!-- The Supabase library now loads first, in the head -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="Qfavic.png" type="image/png">
</head>
<body>

    <header>
        <h1 id="game-title">المصحف الذهني - السور</h1>
    </header>

    <div class="status-bar">
        <div id="progress-counter">0 / 114</div>
        <div id="timer">00:00</div>
    </div>

    <main>
        <div id="surahs-grid-container" class="grid-container"></div>
        <div id="prophets-grid-container" class="grid-container" style="display: none;"></div>
    </main>

    <footer>
        <div class="input-area">
            <input type="text" id="game-input" placeholder="أدخل اسم السورة هنا..." autocomplete="off">
            <button id="submit-button">إدخال</button>
            <button id="show-all-btn">إظهار الكل</button>
        </div>
        <div id="feedback-message"></div>
    </footer>

    <div class="mode-switcher">
        <button id="surahs-mode-btn" class="mode-btn active">السور</button>
        <button id="prophets-mode-btn" class="mode-btn">الأنبياء</button>
    </div>
    
    <aside class="leaderboard-container">
        <h2 id="leaderboard-header">
            لوحة الأوائل
            <span id="toggle-arrow">▼</span>
        </h2>
        <ol id="leaderboard-list"></ol>
    </aside>

    <!--
        MOVED SCRIPT TAG HERE:
        By moving the script to the end of the body and removing 'defer',
        we ensure that the Supabase library is fully loaded before this script runs.
        This fixes the live deployment bug.
    -->
    <script src="script.js"></script>

</body>
</html>